function Map(){this.elements=new Array,this.size=function(){return this.elements.length},this.isEmpty=function(){return this.elements.length<1},this.clear=function(){this.elements=new Array},this.put=function(t,e){this.remove(t),this.elements.push({key:t,value:e})},this.remove=function(t){try{for(i=0;i<this.elements.length;i++)if(this.elements[i].key==t)return this.elements.splice(i,1),!0}catch(e){return!1}return!1},this.get=function(t){try{for(i=0;i<this.elements.length;i++)if(this.elements[i].key==t)return this.elements[i].value}catch(e){return null}},this.element=function(t){return 0>t||t>=this.elements.length?null:this.elements[t]},this.containsKey=function(t){try{for(i=0;i<this.elements.length;i++)if(this.elements[i].key==t)return!0}catch(e){return!1}return!1},this.values=function(){var t=new Array;for(i=0;i<this.elements.length;i++)t.push(this.elements[i].value);return t},this.keys=function(){var t=new Array;for(i=0;i<this.elements.length;i++)t.push(this.elements[i].key);return t}}var DWZ={keyCode:{ENTER:13,ESC:27,END:35,HOME:36,SHIFT:16,TAB:9,LEFT:37,RIGHT:39,UP:38,DOWN:40,DELETE:46,BACKSPACE:8},pageInfo:{pageNum:"pageNum",numPerPage:"numPerPage",orderField:"orderField",orderDirection:"orderDirection"},statusCode:{ok:200,error:300,timeout:301},ui:{sbar:!0},frag:{},_msg:{},_set:{loginUrl:"",loginTitle:"",debug:!1},msg:function(t,e){var n=function(t,e){e=e||[];for(var n=t,i=0;i<e.length;i++)n=n.replace(new RegExp("\\{"+i+"\\}","g"),e[i]);return n};return n(this._msg[t],e)},debug:function(t){this._set.debug&&alert(t)},loadLogin:function(){$.pdialog&&DWZ._set.loginTitle?$.pdialog.open(DWZ._set.loginUrl,"login",DWZ._set.loginTitle,{mask:!0,width:520,height:260}):window.location=DWZ._set.loginUrl},jsonEval:function(data){try{return"string"==$.type(data)?eval("("+data+")"):data}catch(e){return{}}},ajaxError:function(t,e,n){alertMsg?alertMsg.error("<div>Http status: "+t.status+" "+t.statusText+"</div><div>ajaxOptions: "+e+"</div><div>thrownError: "+n+"</div><div>"+t.responseText+"</div>"):alert("Http status: "+t.status+" "+t.statusText+"\najaxOptions: "+e+"\nthrownError:"+n+"\n"+t.responseText)},ajaxDone:function(t){return void 0===t.statusCode&&void 0===t.message?alertMsg?alertMsg.error(t):alert(t):void(t.statusCode==DWZ.statusCode.error?t.message&&alertMsg&&alertMsg.error(t.message):t.statusCode==DWZ.statusCode.timeout?alertMsg?alertMsg.error(t.message||DWZ.msg("sessionTimout"),{okCall:DWZ.loadLogin}):DWZ.loadLogin():t.message&&alertMsg&&alertMsg.correct(t.message))},init:function(t,e){var n=$.extend({loginUrl:"login.html",loginTitle:null,callback:null,debug:!1,statusCode:{}},e);this._set.loginUrl=n.loginUrl,this._set.loginTitle=n.loginTitle,this._set.debug=n.debug,$.extend(DWZ.statusCode,n.statusCode),$.extend(DWZ.pageInfo,n.pageInfo),jQuery.ajax({type:"GET",url:t,dataType:"xml",timeout:5e4,cache:!1,error:function(e){alert("Error loading XML document: "+t+"\nHttp status: "+e.status+" "+e.statusText)},success:function(t){$(t).find("_PAGE_").each(function(){var t=$(this).attr("id");t&&(DWZ.frag[t]=$(this).text())}),$(t).find("_MSG_").each(function(){var t=$(this).attr("id");t&&(DWZ._msg[t]=$(this).text())}),jQuery.isFunction(n.callback)&&n.callback()}})}};!function(t){t.setRegional=function(e,n){t.regional||(t.regional={}),t.regional[e]=n},t.fn.extend({ajaxUrl:function(e){var n=t(this);t.fn.xheditor&&t("textarea.editor",n).xheditor(!1),t.ajax({type:e.type||"GET",url:e.url,data:e.data,cache:!1,success:function(i){var r=DWZ.jsonEval(i);DWZ.debug("statusCode:"+r.statusCode),r.statusCode==DWZ.statusCode.timeout&&alertMsg.error(r.message||DWZ.msg("sessionTimout"),{okCall:function(){t.pdialog&&t.pdialog.checkTimeout(),navTab&&navTab.checkTimeout(),DWZ.loadLogin()}}),r.statusCode==DWZ.statusCode.error?r.message&&alertMsg.error(r.message):(n.html(i).initUI(),t.isFunction(e.callback)&&e.callback(i))},error:DWZ.ajaxError})},loadUrl:function(e,n,i){t(this).ajaxUrl({url:e,data:n,callback:i})},initUI:function(){return this.each(function(){t.isFunction(initUI)&&initUI(this)})},layoutH:function(e){return this.each(function(){var n=t(this);e||(e=n.parents("div.layoutBox:first"));var i=e.height(),r=parseInt(n.attr("layoutH")),s=i-r>50?i-r:50;n.isTag("table")?n.removeAttr("layoutH").wrap('<div layoutH="'+r+'" style="overflow:auto;height:'+s+'px"></div>'):n.height(s).css("overflow","auto")})},hoverClass:function(e){var n=e||"hover";return this.each(function(){t(this).hover(function(){t(this).addClass(n)},function(){t(this).removeClass(n)})})},focusClass:function(e){var n=e||"textInputFocus";return this.each(function(){t(this).focus(function(){t(this).addClass(n)}).blur(function(){t(this).removeClass(n)})})},inputAlert:function(){return this.each(function(){function e(){return i.parent().find("label.alt")}function n(t){var e=i.position();return{width:i.width(),top:e.top+"px",left:e.left+"px",opacity:t||1}}var i=t(this);if(e().size()<1){i.attr("id")||i.attr("id",i.attr("name")+"_"+Math.round(1e4*Math.random()));var r=t('<label class="alt" for="'+i.attr("id")+'">'+i.attr("alt")+"</label>").appendTo(i.parent());r.css(n(1)),i.val()&&r.hide()}i.focus(function(){e().css(n(.3))}).blur(function(){t(this).val()||e().show().css("opacity",1)}).keydown(function(){e().hide()})})},isTag:function(e){return e&&t(this)[0].tagName.toLowerCase()==e?!0:!1},isbind:function(e){var n=t(this).data("events");return n&&n.refChange}}),t.extend(String.prototype,{isPositiveInteger:function(){return new RegExp(/^[1-9]\d*$/).test(this)},isInteger:function(){return new RegExp(/^\d+$/).test(this)},isNumber:function(t,e){return new RegExp(/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/).test(this)},trim:function(){return this.replace(/(^\s*)|(\s*$)|\r|\n/g,"")},startsWith:function(t){return 0===this.indexOf(t)},endsWith:function(t){var e=this.length-t.length;return e>=0&&this.lastIndexOf(t)===e},replaceSuffix:function(t){return this.replace(/\[[0-9]+\]/,"["+t+"]").replace("#index#",t)},trans:function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')},replaceAll:function(t,e){return this.replace(new RegExp(t,"gm"),e)},replaceTm:function(t){return t?this.replace(RegExp("({[A-Za-z_]+[A-Za-z0-9_]*})","g"),function(e){return t[e.replace(/[{}]+/g,"")]}):this},replaceTmById:function(e){var n=e||t(document);return this.replace(RegExp("({[A-Za-z_]+[A-Za-z0-9_]*})","g"),function(t){var e=n.find("#"+t.replace(/[{}]+/g,""));return e.val()?e.val():t})},isFinishedTm:function(){return!new RegExp("{[A-Za-z_]+[A-Za-z0-9_]*}").test(this)},skipChar:function(t){return this&&0!==this.length?this.charAt(0)===t?this.substring(1).skipChar(t):this:""},isValidPwd:function(){return new RegExp(/^([_]|[a-zA-Z0-9]){6,32}$/).test(this)},isValidMail:function(){return new RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(this.trim())},isSpaces:function(){for(var t=0;t<this.length;t+=1){var e=this.charAt(t);if(" "!=e&&"\n"!=e&&"	"!=e&&"\r"!=e)return!1}return!0},isPhone:function(){return new RegExp(/(^([0-9]{3,4}[-])?\d{3,8}(-\d{1,6})?$)|(^\([0-9]{3,4}\)\d{3,8}(\(\d{1,6}\))?$)|(^\d{3,8}$)/).test(this)},isUrl:function(){return new RegExp(/^[a-zA-z]+:\/\/([a-zA-Z0-9\-\.]+)([-\w .\/?%&=:]*)$/).test(this)},isExternalUrl:function(){return this.isUrl()&&-1==this.indexOf("://"+document.domain)}})}(jQuery);